const translations = {
    es: {
      subtitle: "TRADUCE EL MUNDO",
      subtext: "El idioma nunca más será un obstáculo para conocer el mundo",
      "menu.home": "Home",
      "menu.about": "Acerca de",
      "menu.voice": "Traducción Vocal",
      "menu.written": "Traducción Escrita",
      "menu.share": "Compartir",
      "menu.contact": "Contacto",
      title: "Traducción Escrita",
      "about.subtitle": "La gran llave políglota",
      "about.description": "Fuonsei ofrece una solución eficaz para las personas que no cuentan con conocimientos en idiomas, otorgando dos funciones clave para traducir: tanto voz como escritura.",
      "about.vocal.title": "Traducción Vocal",
      "about.vocal.text": "Función que permite traducir tu voz en tiempo real. Solo tienes que elegir tu idioma nativo, hablar normalmente, y seleccionar a qué idioma quieres que se traduzca. Fuonsei se encargará del resto.",
      "about.written.title": "Traducción Escrita",
      "about.written.text": "Función que permite traducir textos presentes en imágenes. Solo tienes que subir una imagen de tu galería o tomar una foto, y luego elegir el idioma original de la imagen y a qué idioma quieres traducirla.",
      "voice.title": "Traducción Vocal",
      "voice.user1": "Usuario 1",
      "voice.user2": "Usuario 2",
      "voice.selectInput": "🌐 Elegir idioma de entrada",
      "voice.selectOutput": "🌐 Elegir idioma de salida",
      "contact.title": "Contacto",
      "contact.data": "Datos",
      "contact.nameLabel": "Nombre y Apellido:",
      "contact.emailLabel": "Correo Electrónico:",
      "contact.phoneLabel": "Número Celular:",
      uploadLabel: "📷 Subir Imagen",
      languageDetected: "Idioma detectado: ...",
      selectInputLang: "🌐 Seleccionar idioma de entrada",
      selectOutputLang: "🌐 Elegir idioma de salida",
      btnTranslate: "Traducir",
      btnReset: "Reiniciar",
      imgAltPreview: "Vista previa de la imagen subida",
      errorNoText: "❌ No se detectó texto.",
      errorProcessing: "Error procesando imagen.",
      errorNoLang: "No se pudo detectar el idioma",
      errorDetectingLang: "❌ Error detectando idioma.",
      errorTranslating: "❌ Error traduciendo texto."
    },
    en: {
      subtitle: "TRANSLATE THE WORLD",
      subtext: "Language will never again be an obstacle to discovering the world",
      "menu.home": "Home",
      "menu.about": "About",
      "menu.voice": "Voice Translation",
      "menu.written": "Written Translation",
      "menu.share": "Share",
      "menu.contact": "Contact",
      title: "Written Translation",
      "about.subtitle": "The great polyglot key",
      "about.description": "Fuonsei offers an effective solution for people with no language knowledge, providing two key functions for translation: both voice and writing.",
      "about.vocal.title": "Voice Translation",
      "about.vocal.text": "Function that allows you to translate your voice in real time. You just have to choose your native language, speak normally, and select the language to which you want it translated. Fuonsei takes care of the rest.",
      "about.written.title": "Written Translation",
      "about.written.text": "Function that allows you to translate text found in images. You just have to upload an image from your gallery or take a photo, then choose the original language of the image and the language you want to translate it to.",
      "voice.title": "Voice Translation",
      "voice.user1": "User 1",
      "voice.user2": "User 2",
      "voice.selectInput": "🌐 Choose input language",
      "voice.selectOutput": "🌐 Choose output language",
      "contact.title": "Contact",
      "contact.data": "Data",
      "contact.nameLabel": "Full Name:",
      "contact.emailLabel": "Email Address:",
      "contact.phoneLabel": "Phone Number:",
      uploadLabel: "📷 Upload Image",
      languageDetected: "Detected language: ...",
      selectInputLang: "🌐 Select input language",
      selectOutputLang: "🌐 Select output language",
      btnTranslate: "Translate",
      btnReset: "Reset",
      imgAltPreview: "Preview of the uploaded image",
      errorNoText: "❌ No text detected.",
      errorProcessing: "Error processing image.",
      errorNoLang: "Could not detect language",
      errorDetectingLang: "❌ Error detecting language.",
      errorTranslating: "❌ Error translating text."
    },
    fr: {
        subtitle: "TRADUIRE LE MONDE",
        subtext: "La langue ne sera plus jamais un obstacle pour découvrir le monde",
        "menu.home": "Accueil",
        "menu.about": "À propos",
        "menu.voice": "Traduction vocale",
        "menu.written": "Traduction écrite",
        "menu.share": "Partager",
        "menu.contact": "Contact",
        title: "Traduction écrite",
        "about.subtitle": "La grande clé polyglotte",
        "about.description": "Fuonsei propose une solution efficace aux personnes ne maîtrisant pas les langues, avec deux fonctions clés de traduction : vocale et écrite.",
        "about.vocal.title": "Traduction vocale",
        "about.vocal.text": "Fonction qui permet de traduire votre voix en temps réel. Choisissez votre langue maternelle, parlez normalement et sélectionnez la langue cible. Fuonsei s'occupe du reste.",
        "about.written.title": "Traduction écrite",
        "about.written.text": "Fonction permettant de traduire le texte présent dans les images. Il suffit de télécharger une image ou de prendre une photo, puis de choisir la langue d’origine et la langue cible.",
        "voice.title": "Traduction vocale",
        "voice.user1": "Utilisateur 1",
        "voice.user2": "Utilisateur 2",
        "voice.selectInput": "🌐 Choisir la langue d'entrée",
        "voice.selectOutput": "🌐 Choisir la langue de sortie",
        "contact.title": "Contact",
        "contact.data": "Informations",
        "contact.nameLabel": "Nom et prénom :",
        "contact.emailLabel": "Adresse e-mail :",
        "contact.phoneLabel": "Numéro de téléphone :",
        uploadLabel: "📷 Télécharger une image",
        languageDetected: "Langue détectée : ...",
        selectInputLang: "🌐 Sélectionner la langue d'entrée",
        selectOutputLang: "🌐 Sélectionner la langue de sortie",
        btnTranslate: "Traduire",
        btnReset: "Réinitialiser",
        imgAltPreview: "Aperçu de l'image téléchargée",
        errorNoText: "❌ Aucun texte détecté.",
        errorProcessing: "Erreur lors du traitement de l'image.",
        errorNoLang: "Impossible de détecter la langue",
        errorDetectingLang: "❌ Erreur lors de la détection de la langue.",
        errorTranslating: "❌ Erreur lors de la traduction du texte."
      },
      pt: {
        subtitle: "TRADUZA O MUNDO",
        subtext: "O idioma nunca mais será um obstáculo para conhecer o mundo",
        "menu.home": "Início",
        "menu.about": "Sobre",
        "menu.voice": "Tradução por Voz",
        "menu.written": "Tradução Escrita",
        "menu.share": "Compartilhar",
        "menu.contact": "Contato",
        title: "Tradução Escrita",
        "about.subtitle": "A grande chave poliglota",
        "about.description": "O Fuonsei oferece uma solução eficaz para pessoas sem conhecimento de idiomas, com duas funções principais de tradução: voz e escrita.",
        "about.vocal.title": "Tradução por Voz",
        "about.vocal.text": "Função que permite traduzir sua voz em tempo real. Basta escolher seu idioma nativo, falar normalmente e selecionar o idioma de destino. O Fuonsei cuidará do resto.",
        "about.written.title": "Tradução Escrita",
        "about.written.text": "Função que permite traduzir textos presentes em imagens. Basta enviar uma imagem da sua galeria ou tirar uma foto, depois escolher o idioma original e o idioma para o qual deseja traduzir.",
        "voice.title": "Tradução por Voz",
        "voice.user1": "Usuário 1",
        "voice.user2": "Usuário 2",
        "voice.selectInput": "🌐 Escolher idioma de entrada",
        "voice.selectOutput": "🌐 Escolher idioma de saída",
        "contact.title": "Contato",
        "contact.data": "Dados",
        "contact.nameLabel": "Nome completo:",
        "contact.emailLabel": "Email:",
        "contact.phoneLabel": "Número de telefone:",
        uploadLabel: "📷 Enviar imagem",
        languageDetected: "Idioma detectado: ...",
        selectInputLang: "🌐 Selecionar idioma de entrada",
        selectOutputLang: "🌐 Selecionar idioma de saída",
        btnTranslate: "Traduzir",
        btnReset: "Reiniciar",
        imgAltPreview: "Prévia da imagem enviada",
        errorNoText: "❌ Nenhum texto detectado.",
        errorProcessing: "Erro ao processar a imagem.",
        errorNoLang: "Não foi possível detectar o idioma",
        errorDetectingLang: "❌ Erro ao detectar o idioma.",
        errorTranslating: "❌ Erro ao traduzir o texto."
      },
      zh: {
        subtitle: "翻译世界",
        subtext: "语言再也不会成为了解世界的障碍",
        "menu.home": "主页",
        "menu.about": "关于",
        "menu.voice": "语音翻译",
        "menu.written": "文字翻译",
        "menu.share": "分享",
        "menu.contact": "联系",
        title: "文字翻译",
        "about.subtitle": "伟大的多语言钥匙",
        "about.description": "Fuonsei 为没有语言知识的人提供有效的解决方案，提供两种主要的翻译功能：语音和文字。",
        "about.vocal.title": "语音翻译",
        "about.vocal.text": "此功能可实时翻译您的语音。只需选择您的母语，正常说话，然后选择要翻译成的语言，Fuonsei 将完成其余工作。",
        "about.written.title": "文字翻译",
        "about.written.text": "此功能可翻译图像中的文本。只需上传图库中的图像或拍照，然后选择图像的原始语言以及要翻译成的语言。",
        "voice.title": "语音翻译",
        "voice.user1": "用户 1",
        "voice.user2": "用户 2",
        "voice.selectInput": "🌐 选择输入语言",
        "voice.selectOutput": "🌐 选择输出语言",
        "contact.title": "联系",
        "contact.data": "资料",
        "contact.nameLabel": "姓名：",
        "contact.emailLabel": "电子邮件：",
        "contact.phoneLabel": "手机号码：",
        uploadLabel: "📷 上传图片",
        languageDetected: "检测到的语言：...",
        selectInputLang: "🌐 选择输入语言",
        selectOutputLang: "🌐 选择输出语言",
        btnTranslate: "翻译",
        btnReset: "重置",
        imgAltPreview: "上传图像的预览",
        errorNoText: "❌ 未检测到文本。",
        errorProcessing: "处理图像时出错。",
        errorNoLang: "无法检测语言",
        errorDetectingLang: "❌ 检测语言时出错。",
        errorTranslating: "❌ 翻译文本时出错。"
      },
      it: {
        subtitle: "TRADUCI IL MONDO",
        subtext: "La lingua non sarà mai più un ostacolo per scoprire il mondo",
        "menu.home": "Home",
        "menu.about": "Informazioni",
        "menu.voice": "Traduzione vocale",
        "menu.written": "Traduzione scritta",
        "menu.share": "Condividi",
        "menu.contact": "Contatto",
        title: "Traduzione scritta",
        "about.subtitle": "La grande chiave poliglotta",
        "about.description": "Fuonsei offre una soluzione efficace per chi non conosce le lingue, fornendo due funzioni principali di traduzione: vocale e scritta.",
        "about.vocal.title": "Traduzione vocale",
        "about.vocal.text": "Funzione che consente di tradurre la tua voce in tempo reale. Basta scegliere la tua lingua madre, parlare normalmente e selezionare la lingua di destinazione. Fuonsei farà il resto.",
        "about.written.title": "Traduzione scritta",
        "about.written.text": "Funzione che consente di tradurre testi presenti nelle immagini. Basta caricare un'immagine dalla galleria o scattare una foto, quindi scegliere la lingua originale e quella di destinazione.",
        "voice.title": "Traduzione vocale",
        "voice.user1": "Utente 1",
        "voice.user2": "Utente 2",
        "voice.selectInput": "🌐 Seleziona la lingua di input",
        "voice.selectOutput": "🌐 Seleziona la lingua di output",
        "contact.title": "Contatto",
        "contact.data": "Dati",
        "contact.nameLabel": "Nome e cognome:",
        "contact.emailLabel": "Email:",
        "contact.phoneLabel": "Numero di telefono:",
        uploadLabel: "📷 Carica immagine",
        languageDetected: "Lingua rilevata: ...",
        selectInputLang: "🌐 Seleziona la lingua di input",
        selectOutputLang: "🌐 Seleziona la lingua di output",
        btnTranslate: "Traduci",
        btnReset: "Reset",
        imgAltPreview: "Anteprima dell'immagine caricata",
        errorNoText: "❌ Nessun testo rilevato.",
        errorProcessing: "Errore nell'elaborazione dell'immagine.",
        errorNoLang: "Impossibile rilevare la lingua",
        errorDetectingLang: "❌ Errore nel rilevamento della lingua.",
        errorTranslating: "❌ Errore nella traduzione del testo."
      },
      ja: {
        subtitle: "世界を翻訳しよう",
        subtext: "言語はもう世界を知る障害にはなりません",
        "menu.home": "ホーム",
        "menu.about": "概要",
        "menu.voice": "音声翻訳",
        "menu.written": "文字翻訳",
        "menu.share": "共有",
        "menu.contact": "連絡先",
        title: "文字翻訳",
        "about.subtitle": "多言語の鍵",
        "about.description": "Fuonsei は言語の知識がない人々のために、音声と文字の2つの主要な翻訳機能を提供する効果的なソリューションです。",
        "about.vocal.title": "音声翻訳",
        "about.vocal.text": "リアルタイムで音声を翻訳する機能です。母国語を選択して普通に話し、翻訳したい言語を選ぶだけで、Fuonsei が翻訳を行います。",
        "about.written.title": "文字翻訳",
        "about.written.text": "画像に含まれるテキストを翻訳する機能です。ギャラリーから画像をアップロードするか写真を撮影し、元の言語と翻訳先の言語を選択するだけです。",
        "voice.title": "音声翻訳",
        "voice.user1": "ユーザー1",
        "voice.user2": "ユーザー2",
        "voice.selectInput": "🌐 入力言語を選択",
        "voice.selectOutput": "🌐 出力言語を選択",
        "contact.title": "連絡先",
        "contact.data": "情報",
        "contact.nameLabel": "氏名：",
        "contact.emailLabel": "メールアドレス：",
        "contact.phoneLabel": "電話番号：",
        uploadLabel: "📷 画像をアップロード",
        languageDetected: "検出された言語：...",
        selectInputLang: "🌐 入力言語を選択",
        selectOutputLang: "🌐 出力言語を選択",
        btnTranslate: "翻訳する",
        btnReset: "リセット",
        imgAltPreview: "アップロードされた画像のプレビュー",
        errorNoText: "❌ テキストが検出されませんでした。",
        errorProcessing: "画像処理中にエラーが発生しました。",
        errorNoLang: "言語を検出できませんでした",
        errorDetectingLang: "❌ 言語検出中にエラーが発生しました。",
        errorTranslating: "❌ テキスト翻訳中にエラーが発生しました。"
      }
      
  };
  

  

  
// ✅ Versión con almacenamiento local:
function setLanguage(lang) {
  localStorage.setItem("lang", lang); // Guarda selección
  const elements = document.querySelectorAll("[data-i18n]");
  elements.forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang] && translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });
}

// ✅ Al cargar, recupera idioma guardado o usa el del navegador
const savedLang = localStorage.getItem("lang");
const browserLang = navigator.language.slice(0, 2);

if (savedLang && translations[savedLang]) {
  setLanguage(savedLang);
} else if (translations[browserLang]) {
  setLanguage(browserLang);
} else {
  setLanguage("es");
}