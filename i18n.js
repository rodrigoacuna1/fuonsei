const translations = {
    es: {
      subtitle: "TRADUCE EL MUNDO",
      subtext: "El idioma nunca mÃ¡s serÃ¡ un obstÃ¡culo para conocer el mundo",
      "menu.home": "Home",
      "menu.about": "Acerca de",
      "menu.voice": "TraducciÃ³n Vocal",
      "menu.written": "TraducciÃ³n Escrita",
      "menu.share": "Compartir",
      "menu.contact": "Contacto",
      title: "TraducciÃ³n Escrita",
      "about.subtitle": "La gran llave polÃ­glota",
      "about.description": "Fuonsei ofrece una soluciÃ³n eficaz para las personas que no cuentan con conocimientos en idiomas, otorgando dos funciones clave para traducir: tanto voz como escritura.",
      "about.vocal.title": "TraducciÃ³n Vocal",
      "about.vocal.text": "FunciÃ³n que permite traducir tu voz en tiempo real. Solo tienes que elegir tu idioma nativo, hablar normalmente, y seleccionar a quÃ© idioma quieres que se traduzca. Fuonsei se encargarÃ¡ del resto.",
      "about.written.title": "TraducciÃ³n Escrita",
      "about.written.text": "FunciÃ³n que permite traducir textos presentes en imÃ¡genes. Solo tienes que subir una imagen de tu galerÃ­a o tomar una foto, y luego elegir el idioma original de la imagen y a quÃ© idioma quieres traducirla.",
      "voice.title": "TraducciÃ³n Vocal",
      "voice.user1": "Usuario 1",
      "voice.user2": "Usuario 2",
      "voice.selectInput": "ðŸŒ Elegir idioma de entrada",
      "voice.selectOutput": "ðŸŒ Elegir idioma de salida",
      "contact.title": "Contacto",
      "contact.data": "Datos",
      "contact.nameLabel": "Nombre y Apellido:",
      "contact.emailLabel": "Correo ElectrÃ³nico:",
      "contact.phoneLabel": "NÃºmero Celular:",
      uploadLabel: "ðŸ“· Subir Imagen",
      languageDetected: "Idioma detectado: ...",
      selectInputLang: "ðŸŒ Seleccionar idioma de entrada",
      selectOutputLang: "ðŸŒ Elegir idioma de salida",
      btnTranslate: "Traducir",
      btnReset: "Reiniciar",
      imgAltPreview: "Vista previa de la imagen subida",
      errorNoText: "âŒ No se detectÃ³ texto.",
      errorProcessing: "Error procesando imagen.",
      errorNoLang: "No se pudo detectar el idioma",
      errorDetectingLang: "âŒ Error detectando idioma.",
      errorTranslating: "âŒ Error traduciendo texto."
    },
    en: {
      subtitle: "TRANSLATE THE WORLD",
      subtext: "Language will never again be an obstacle to discovering the world",
      "menu.home": "Home",
      "menu.about": "About",
      "menu.voice": "Voice Translation",
      "menu.written": "Written Translation",
      "menu.share": "Share",
      "menu.contact": "Contact",
      title: "Written Translation",
      "about.subtitle": "The great polyglot key",
      "about.description": "Fuonsei offers an effective solution for people with no language knowledge, providing two key functions for translation: both voice and writing.",
      "about.vocal.title": "Voice Translation",
      "about.vocal.text": "Function that allows you to translate your voice in real time. You just have to choose your native language, speak normally, and select the language to which you want it translated. Fuonsei takes care of the rest.",
      "about.written.title": "Written Translation",
      "about.written.text": "Function that allows you to translate text found in images. You just have to upload an image from your gallery or take a photo, then choose the original language of the image and the language you want to translate it to.",
      "voice.title": "Voice Translation",
      "voice.user1": "User 1",
      "voice.user2": "User 2",
      "voice.selectInput": "ðŸŒ Choose input language",
      "voice.selectOutput": "ðŸŒ Choose output language",
      "contact.title": "Contact",
      "contact.data": "Data",
      "contact.nameLabel": "Full Name:",
      "contact.emailLabel": "Email Address:",
      "contact.phoneLabel": "Phone Number:",
      uploadLabel: "ðŸ“· Upload Image",
      languageDetected: "Detected language: ...",
      selectInputLang: "ðŸŒ Select input language",
      selectOutputLang: "ðŸŒ Select output language",
      btnTranslate: "Translate",
      btnReset: "Reset",
      imgAltPreview: "Preview of the uploaded image",
      errorNoText: "âŒ No text detected.",
      errorProcessing: "Error processing image.",
      errorNoLang: "Could not detect language",
      errorDetectingLang: "âŒ Error detecting language.",
      errorTranslating: "âŒ Error translating text."
    },
    fr: {
        subtitle: "TRADUIRE LE MONDE",
        subtext: "La langue ne sera plus jamais un obstacle pour dÃ©couvrir le monde",
        "menu.home": "Accueil",
        "menu.about": "Ã€ propos",
        "menu.voice": "Traduction vocale",
        "menu.written": "Traduction Ã©crite",
        "menu.share": "Partager",
        "menu.contact": "Contact",
        title: "Traduction Ã©crite",
        "about.subtitle": "La grande clÃ© polyglotte",
        "about.description": "Fuonsei propose une solution efficace aux personnes ne maÃ®trisant pas les langues, avec deux fonctions clÃ©s de traduction : vocale et Ã©crite.",
        "about.vocal.title": "Traduction vocale",
        "about.vocal.text": "Fonction qui permet de traduire votre voix en temps rÃ©el. Choisissez votre langue maternelle, parlez normalement et sÃ©lectionnez la langue cible. Fuonsei s'occupe du reste.",
        "about.written.title": "Traduction Ã©crite",
        "about.written.text": "Fonction permettant de traduire le texte prÃ©sent dans les images. Il suffit de tÃ©lÃ©charger une image ou de prendre une photo, puis de choisir la langue dâ€™origine et la langue cible.",
        "voice.title": "Traduction vocale",
        "voice.user1": "Utilisateur 1",
        "voice.user2": "Utilisateur 2",
        "voice.selectInput": "ðŸŒ Choisir la langue d'entrÃ©e",
        "voice.selectOutput": "ðŸŒ Choisir la langue de sortie",
        "contact.title": "Contact",
        "contact.data": "Informations",
        "contact.nameLabel": "Nom et prÃ©nom :",
        "contact.emailLabel": "Adresse e-mail :",
        "contact.phoneLabel": "NumÃ©ro de tÃ©lÃ©phone :",
        uploadLabel: "ðŸ“· TÃ©lÃ©charger une image",
        languageDetected: "Langue dÃ©tectÃ©e : ...",
        selectInputLang: "ðŸŒ SÃ©lectionner la langue d'entrÃ©e",
        selectOutputLang: "ðŸŒ SÃ©lectionner la langue de sortie",
        btnTranslate: "Traduire",
        btnReset: "RÃ©initialiser",
        imgAltPreview: "AperÃ§u de l'image tÃ©lÃ©chargÃ©e",
        errorNoText: "âŒ Aucun texte dÃ©tectÃ©.",
        errorProcessing: "Erreur lors du traitement de l'image.",
        errorNoLang: "Impossible de dÃ©tecter la langue",
        errorDetectingLang: "âŒ Erreur lors de la dÃ©tection de la langue.",
        errorTranslating: "âŒ Erreur lors de la traduction du texte."
      },
      pt: {
        subtitle: "TRADUZA O MUNDO",
        subtext: "O idioma nunca mais serÃ¡ um obstÃ¡culo para conhecer o mundo",
        "menu.home": "InÃ­cio",
        "menu.about": "Sobre",
        "menu.voice": "TraduÃ§Ã£o por Voz",
        "menu.written": "TraduÃ§Ã£o Escrita",
        "menu.share": "Compartilhar",
        "menu.contact": "Contato",
        title: "TraduÃ§Ã£o Escrita",
        "about.subtitle": "A grande chave poliglota",
        "about.description": "O Fuonsei oferece uma soluÃ§Ã£o eficaz para pessoas sem conhecimento de idiomas, com duas funÃ§Ãµes principais de traduÃ§Ã£o: voz e escrita.",
        "about.vocal.title": "TraduÃ§Ã£o por Voz",
        "about.vocal.text": "FunÃ§Ã£o que permite traduzir sua voz em tempo real. Basta escolher seu idioma nativo, falar normalmente e selecionar o idioma de destino. O Fuonsei cuidarÃ¡ do resto.",
        "about.written.title": "TraduÃ§Ã£o Escrita",
        "about.written.text": "FunÃ§Ã£o que permite traduzir textos presentes em imagens. Basta enviar uma imagem da sua galeria ou tirar uma foto, depois escolher o idioma original e o idioma para o qual deseja traduzir.",
        "voice.title": "TraduÃ§Ã£o por Voz",
        "voice.user1": "UsuÃ¡rio 1",
        "voice.user2": "UsuÃ¡rio 2",
        "voice.selectInput": "ðŸŒ Escolher idioma de entrada",
        "voice.selectOutput": "ðŸŒ Escolher idioma de saÃ­da",
        "contact.title": "Contato",
        "contact.data": "Dados",
        "contact.nameLabel": "Nome completo:",
        "contact.emailLabel": "Email:",
        "contact.phoneLabel": "NÃºmero de telefone:",
        uploadLabel: "ðŸ“· Enviar imagem",
        languageDetected: "Idioma detectado: ...",
        selectInputLang: "ðŸŒ Selecionar idioma de entrada",
        selectOutputLang: "ðŸŒ Selecionar idioma de saÃ­da",
        btnTranslate: "Traduzir",
        btnReset: "Reiniciar",
        imgAltPreview: "PrÃ©via da imagem enviada",
        errorNoText: "âŒ Nenhum texto detectado.",
        errorProcessing: "Erro ao processar a imagem.",
        errorNoLang: "NÃ£o foi possÃ­vel detectar o idioma",
        errorDetectingLang: "âŒ Erro ao detectar o idioma.",
        errorTranslating: "âŒ Erro ao traduzir o texto."
      },
      zh: {
        subtitle: "ç¿»è¯‘ä¸–ç•Œ",
        subtext: "è¯­è¨€å†ä¹Ÿä¸ä¼šæˆä¸ºäº†è§£ä¸–ç•Œçš„éšœç¢",
        "menu.home": "ä¸»é¡µ",
        "menu.about": "å…³äºŽ",
        "menu.voice": "è¯­éŸ³ç¿»è¯‘",
        "menu.written": "æ–‡å­—ç¿»è¯‘",
        "menu.share": "åˆ†äº«",
        "menu.contact": "è”ç³»",
        title: "æ–‡å­—ç¿»è¯‘",
        "about.subtitle": "ä¼Ÿå¤§çš„å¤šè¯­è¨€é’¥åŒ™",
        "about.description": "Fuonsei ä¸ºæ²¡æœ‰è¯­è¨€çŸ¥è¯†çš„äººæä¾›æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œæä¾›ä¸¤ç§ä¸»è¦çš„ç¿»è¯‘åŠŸèƒ½ï¼šè¯­éŸ³å’Œæ–‡å­—ã€‚",
        "about.vocal.title": "è¯­éŸ³ç¿»è¯‘",
        "about.vocal.text": "æ­¤åŠŸèƒ½å¯å®žæ—¶ç¿»è¯‘æ‚¨çš„è¯­éŸ³ã€‚åªéœ€é€‰æ‹©æ‚¨çš„æ¯è¯­ï¼Œæ­£å¸¸è¯´è¯ï¼Œç„¶åŽé€‰æ‹©è¦ç¿»è¯‘æˆçš„è¯­è¨€ï¼ŒFuonsei å°†å®Œæˆå…¶ä½™å·¥ä½œã€‚",
        "about.written.title": "æ–‡å­—ç¿»è¯‘",
        "about.written.text": "æ­¤åŠŸèƒ½å¯ç¿»è¯‘å›¾åƒä¸­çš„æ–‡æœ¬ã€‚åªéœ€ä¸Šä¼ å›¾åº“ä¸­çš„å›¾åƒæˆ–æ‹ç…§ï¼Œç„¶åŽé€‰æ‹©å›¾åƒçš„åŽŸå§‹è¯­è¨€ä»¥åŠè¦ç¿»è¯‘æˆçš„è¯­è¨€ã€‚",
        "voice.title": "è¯­éŸ³ç¿»è¯‘",
        "voice.user1": "ç”¨æˆ· 1",
        "voice.user2": "ç”¨æˆ· 2",
        "voice.selectInput": "ðŸŒ é€‰æ‹©è¾“å…¥è¯­è¨€",
        "voice.selectOutput": "ðŸŒ é€‰æ‹©è¾“å‡ºè¯­è¨€",
        "contact.title": "è”ç³»",
        "contact.data": "èµ„æ–™",
        "contact.nameLabel": "å§“åï¼š",
        "contact.emailLabel": "ç”µå­é‚®ä»¶ï¼š",
        "contact.phoneLabel": "æ‰‹æœºå·ç ï¼š",
        uploadLabel: "ðŸ“· ä¸Šä¼ å›¾ç‰‡",
        languageDetected: "æ£€æµ‹åˆ°çš„è¯­è¨€ï¼š...",
        selectInputLang: "ðŸŒ é€‰æ‹©è¾“å…¥è¯­è¨€",
        selectOutputLang: "ðŸŒ é€‰æ‹©è¾“å‡ºè¯­è¨€",
        btnTranslate: "ç¿»è¯‘",
        btnReset: "é‡ç½®",
        imgAltPreview: "ä¸Šä¼ å›¾åƒçš„é¢„è§ˆ",
        errorNoText: "âŒ æœªæ£€æµ‹åˆ°æ–‡æœ¬ã€‚",
        errorProcessing: "å¤„ç†å›¾åƒæ—¶å‡ºé”™ã€‚",
        errorNoLang: "æ— æ³•æ£€æµ‹è¯­è¨€",
        errorDetectingLang: "âŒ æ£€æµ‹è¯­è¨€æ—¶å‡ºé”™ã€‚",
        errorTranslating: "âŒ ç¿»è¯‘æ–‡æœ¬æ—¶å‡ºé”™ã€‚"
      },
      it: {
        subtitle: "TRADUCI IL MONDO",
        subtext: "La lingua non sarÃ  mai piÃ¹ un ostacolo per scoprire il mondo",
        "menu.home": "Home",
        "menu.about": "Informazioni",
        "menu.voice": "Traduzione vocale",
        "menu.written": "Traduzione scritta",
        "menu.share": "Condividi",
        "menu.contact": "Contatto",
        title: "Traduzione scritta",
        "about.subtitle": "La grande chiave poliglotta",
        "about.description": "Fuonsei offre una soluzione efficace per chi non conosce le lingue, fornendo due funzioni principali di traduzione: vocale e scritta.",
        "about.vocal.title": "Traduzione vocale",
        "about.vocal.text": "Funzione che consente di tradurre la tua voce in tempo reale. Basta scegliere la tua lingua madre, parlare normalmente e selezionare la lingua di destinazione. Fuonsei farÃ  il resto.",
        "about.written.title": "Traduzione scritta",
        "about.written.text": "Funzione che consente di tradurre testi presenti nelle immagini. Basta caricare un'immagine dalla galleria o scattare una foto, quindi scegliere la lingua originale e quella di destinazione.",
        "voice.title": "Traduzione vocale",
        "voice.user1": "Utente 1",
        "voice.user2": "Utente 2",
        "voice.selectInput": "ðŸŒ Seleziona la lingua di input",
        "voice.selectOutput": "ðŸŒ Seleziona la lingua di output",
        "contact.title": "Contatto",
        "contact.data": "Dati",
        "contact.nameLabel": "Nome e cognome:",
        "contact.emailLabel": "Email:",
        "contact.phoneLabel": "Numero di telefono:",
        uploadLabel: "ðŸ“· Carica immagine",
        languageDetected: "Lingua rilevata: ...",
        selectInputLang: "ðŸŒ Seleziona la lingua di input",
        selectOutputLang: "ðŸŒ Seleziona la lingua di output",
        btnTranslate: "Traduci",
        btnReset: "Reset",
        imgAltPreview: "Anteprima dell'immagine caricata",
        errorNoText: "âŒ Nessun testo rilevato.",
        errorProcessing: "Errore nell'elaborazione dell'immagine.",
        errorNoLang: "Impossibile rilevare la lingua",
        errorDetectingLang: "âŒ Errore nel rilevamento della lingua.",
        errorTranslating: "âŒ Errore nella traduzione del testo."
      },
      ja: {
        subtitle: "ä¸–ç•Œã‚’ç¿»è¨³ã—ã‚ˆã†",
        subtext: "è¨€èªžã¯ã‚‚ã†ä¸–ç•Œã‚’çŸ¥ã‚‹éšœå®³ã«ã¯ãªã‚Šã¾ã›ã‚“",
        "menu.home": "ãƒ›ãƒ¼ãƒ ",
        "menu.about": "æ¦‚è¦",
        "menu.voice": "éŸ³å£°ç¿»è¨³",
        "menu.written": "æ–‡å­—ç¿»è¨³",
        "menu.share": "å…±æœ‰",
        "menu.contact": "é€£çµ¡å…ˆ",
        title: "æ–‡å­—ç¿»è¨³",
        "about.subtitle": "å¤šè¨€èªžã®éµ",
        "about.description": "Fuonsei ã¯è¨€èªžã®çŸ¥è­˜ãŒãªã„äººã€…ã®ãŸã‚ã«ã€éŸ³å£°ã¨æ–‡å­—ã®2ã¤ã®ä¸»è¦ãªç¿»è¨³æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹åŠ¹æžœçš„ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚",
        "about.vocal.title": "éŸ³å£°ç¿»è¨³",
        "about.vocal.text": "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§éŸ³å£°ã‚’ç¿»è¨³ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚æ¯å›½èªžã‚’é¸æŠžã—ã¦æ™®é€šã«è©±ã—ã€ç¿»è¨³ã—ãŸã„è¨€èªžã‚’é¸ã¶ã ã‘ã§ã€Fuonsei ãŒç¿»è¨³ã‚’è¡Œã„ã¾ã™ã€‚",
        "about.written.title": "æ–‡å­—ç¿»è¨³",
        "about.written.text": "ç”»åƒã«å«ã¾ã‚Œã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’ç¿»è¨³ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‹ã‚‰ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‹å†™çœŸã‚’æ’®å½±ã—ã€å…ƒã®è¨€èªžã¨ç¿»è¨³å…ˆã®è¨€èªžã‚’é¸æŠžã™ã‚‹ã ã‘ã§ã™ã€‚",
        "voice.title": "éŸ³å£°ç¿»è¨³",
        "voice.user1": "ãƒ¦ãƒ¼ã‚¶ãƒ¼1",
        "voice.user2": "ãƒ¦ãƒ¼ã‚¶ãƒ¼2",
        "voice.selectInput": "ðŸŒ å…¥åŠ›è¨€èªžã‚’é¸æŠž",
        "voice.selectOutput": "ðŸŒ å‡ºåŠ›è¨€èªžã‚’é¸æŠž",
        "contact.title": "é€£çµ¡å…ˆ",
        "contact.data": "æƒ…å ±",
        "contact.nameLabel": "æ°åï¼š",
        "contact.emailLabel": "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š",
        "contact.phoneLabel": "é›»è©±ç•ªå·ï¼š",
        uploadLabel: "ðŸ“· ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰",
        languageDetected: "æ¤œå‡ºã•ã‚ŒãŸè¨€èªžï¼š...",
        selectInputLang: "ðŸŒ å…¥åŠ›è¨€èªžã‚’é¸æŠž",
        selectOutputLang: "ðŸŒ å‡ºåŠ›è¨€èªžã‚’é¸æŠž",
        btnTranslate: "ç¿»è¨³ã™ã‚‹",
        btnReset: "ãƒªã‚»ãƒƒãƒˆ",
        imgAltPreview: "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç”»åƒã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
        errorNoText: "âŒ ãƒ†ã‚­ã‚¹ãƒˆãŒæ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚",
        errorProcessing: "ç”»åƒå‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚",
        errorNoLang: "è¨€èªžã‚’æ¤œå‡ºã§ãã¾ã›ã‚“ã§ã—ãŸ",
        errorDetectingLang: "âŒ è¨€èªžæ¤œå‡ºä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚",
        errorTranslating: "âŒ ãƒ†ã‚­ã‚¹ãƒˆç¿»è¨³ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚"
      }
      
  };
  

  

  
// âœ… VersiÃ³n con almacenamiento local:
function setLanguage(lang) {
  localStorage.setItem("lang", lang); // Guarda selecciÃ³n
  const elements = document.querySelectorAll("[data-i18n]");
  elements.forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang] && translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });
}

// âœ… Al cargar, recupera idioma guardado o usa el del navegador
const savedLang = localStorage.getItem("lang");
const browserLang = navigator.language.slice(0, 2);

if (savedLang && translations[savedLang]) {
  setLanguage(savedLang);
} else if (translations[browserLang]) {
  setLanguage(browserLang);
} else {
  setLanguage("es");
}